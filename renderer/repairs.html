<!doctype html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <title>Ремонти</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./dashboard.css">
    <link rel="stylesheet" href="./repairs.css">
</head>
<body>
    <div class="layout">
        <!-- APPBAR -->
        <header class="appbar">
            <img src="./logo.jpg" alt="Контакт" class="brand-logo" />
            <div class="today" id="today"></div>
        </header>

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="menu-title">МЕНЮ</div>
            <nav class="menu">
                <a href="./dashboard.html"><img class="ico" src="./icons/dashboard.png" alt=""><span>Дашборд</span></a>
                <a href="./sales.html"><img class="ico" src="./icons/sales.png" alt=""><span>Продажі</span></a>
                <a class="active"><img class="ico" src="./icons/repairs.png" alt=""><span>Ремонти</span></a>
                <a href="./clients.html"><img class="ico" src="./icons/clients.png" alt=""><span>Клієнти</span></a>
                <a href="./products.html"><img class="ico" src="./icons/products.png" alt="">Конфігуратор ПК</a>
                <a href="./analytics.html"><img class="ico" src="./icons/analytics.png" alt=""> Аналітика</a>
            </nav>

            <div class="menu-title small">ІНШЕ</div>
            <nav class="menu">
                <a><img class="ico" src="./icons/help.png" alt="">Допомога</a>
                <a><img class="ico" src="./icons/settings.png" alt="">Налаштування</a>
                <a id="logout"><img class="ico" src="./icons/logout.png" alt="">Вихід</a>
            </nav>
        </aside>

        <!-- MAIN -->
        <main class="main repairs">
            <h1 class="page-title">Ремонти</h1>

            <!-- toolbar -->
            <div class="toolbar">
                <div class="left">
                    <div class="search">
                        <svg class="search-ico" width="18" height="18" viewBox="0 0 24 24" fill="none">
                            <path d="M21 21l-4.2-4.2M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16Z"
                                  stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <input id="q" type="text" placeholder="Пошук: клієнт, пристрій, № ордера або проблема">
                    </div>

                    <details class="dropdown">
                        <summary class="btn btn-ghost">Фільтри</summary>
                        <div class="dropdown-menu wide">
                            <label>
                                Статус
                                <select id="fStatus">
                                    <option value="">Будь-який</option>
                                    <option value="new">Новий</option>
                                    <option value="progress">В процесі</option>
                                    <option value="done">Готово</option>
                                    <option value="issued">Видано</option>
                                    <option value="canceled">Скасовано</option>
                                </select>
                            </label>
                            <label>
                                Тип пристрою
                                <select id="fDeviceType">
                                    <option value="">Будь-який</option>
                                    <option>ПК</option>
                                    <option>Ноутбук</option>
                                    <option>Телефон</option>
                                    <option>Периферія</option>
                                </select>
                            </label>
                            <label>Дата від <input id="fFrom" type="date"></label>
                            <label>Дата до <input id="fTo" type="date"></label>

                            <div class="dropdown-actions">
                                <button id="fReset" class="btn btn-ghost" type="button">Скинути</button>
                                <button id="fApply" class="btn" type="button">Застосувати</button>
                            </div>
                        </div>
                    </details>

                    <details class="dropdown">
                        <summary class="btn btn-ghost">Сортування</summary>
                        <div class="dropdown-menu narrow">
                            <label>
                                Поле
                                <select id="sortField">
                                    <option value="Date">Дата</option>
                                    <option value="Status">Статус</option>
                                    <option value="Price">Вартість</option>
                                    <option value="Id">№</option>
                                    <option value="Client">Клієнт</option>
                                    <option value="Device">Пристрій</option>
                                </select>
                            </label>
                            <label>
                                Порядок
                                <select id="sortDir">
                                    <option value="desc">Спадання ↓</option>
                                    <option value="asc">Зростання ↑</option>
                                </select>
                            </label>
                            <div class="dropdown-actions">
                                <button id="sReset" class="btn btn-ghost" type="button">Скинути</button>
                                <button id="sApply" class="btn" type="button">Ок</button>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="right">
                    <button id="btnCreate" class="btn" type="button">Створити ордер</button>
                </div>
            </div>

            <!-- таблиця -->
            <div class="table-wrap">
                <table class="table-repairs">
                    <colgroup>
                        <col style="width:72px">
                        <col style="width:140px">
                        <col style="width:200px">
                        <col style="width:280px">
                        <col style="width:200px">
                        <col style="width:140px">
                        <col style="width:120px">
                        <col style="width:56px">
                    </colgroup>
                    <thead>
                        <tr>
                            <th data-sort="Id">№</th>
                            <th data-sort="Date">Дата</th>
                            <th data-sort="Client">Клієнт</th>
                            <th data-sort="Device">Пристрій</th>
                            <th>Проблема</th>
                            <th data-sort="Status">Статус</th>
                            <th data-sort="Price">Вартість</th>
                            <th>Дія</th>
                        </tr>
                    </thead>
                    <tbody id="repairsTbody"></tbody>
                </table>
            </div>

            <div id="pager" class="pager"></div>
        </main>
    </div>

    <!-- Портал-меню для рядка -->
    <div id="rowMenuPortal" class="row-menu-portal" hidden></div>

    <!-- Модалка створення ордера -->
    <div id="repairModal" class="modal-layer" hidden>
        <div class="modal-card card" role="dialog" aria-modal="true">
            <h3 class="card-title">Створити ордер</h3>
            <form id="repairForm" class="body">
                <div class="row two">
                    <div class="field">
                        <label>Дата</label>
                        <input id="rfDate" type="date" required>
                    </div>
                    <div class="field">
                        <label>Статус</label>
                        <select id="rfStatus">
                            <option value="new">Новий</option>
                            <option value="progress">В процесі</option>
                            <option value="done">Готово</option>
                            <option value="issued">Видано</option>
                            <option value="canceled">Скасовано</option>
                        </select>
                    </div>
                </div>

                <div class="row two">
                    <div class="field">
                        <label>Клієнт</label>
                        <input id="rfClient" list="clientList" placeholder="Почніть вводити ім’я…" autocomplete="off">
                        <datalist id="clientList"></datalist>
                        <input id="rfClientId" type="hidden">
                    </div>
                    <div class="field">
                        <label>Пристрій</label>
                        <input id="rfDevice" type="text" placeholder="Ноутбук Lenovo / Телефон / ПК" required>
                    </div>
                </div>

                <div class="row">
                    <div class="field">
                        <label>Проблема</label>
                        <input id="rfProblem" type="text" placeholder="Не вмикається / Замінити SSD / ..." required>
                    </div>
                </div>

                <div class="row two">
                    <div class="field">
                        <label>Вартість (₴)</label>
                        <input id="rfPrice" type="number" min="0" step="1" value="0">
                    </div>
                    <div class="field">
                        <label>Нотатка (необов’язково)</label>
                        <input id="rfNote" type="text" placeholder="">
                    </div>
                </div>

                <div class="actions">
                    <button id="rfCancel" class="btn-ghost" type="button">Скасувати</button>
                    <button class="btn" type="submit">Зберегти</button>
                </div>
            </form>
        </div>
    </div>

    <script src="./repairs.js"></script>
</body>
</html>
