<!doctype html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <title>Клієнти</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./dashboard.css">
    <link rel="stylesheet" href="./clients.css">
</head>
<body>
    <div class="layout">
        <header class="appbar">
            <img src="./logo.jpg" alt="Контакт" class="brand-logo" />
            <div class="today" id="today"></div>
        </header>

        <aside class="sidebar">
            <div class="menu-title">МЕНЮ</div>
            <nav class="menu">
                <a href="./dashboard.html"><img class="ico" src="./icons/dashboard.png" alt=""><span>Дашборд</span></a>
                <a href="./sales.html"><img class="ico" src="./icons/sales.png" alt=""><span>Продажі</span></a>
                <a href="./repairs.html"><img class="ico" src="./icons/repairs.png" alt="">Ремонти</a>
                <a class="active"><img class="ico" src="./icons/clients.png" alt=""><span>Клієнти</span></a>
                <a href="./products.html"><img class="ico" src="./icons/products.png" alt="">Конфігуратор ПК</a>
                <a href="./analytics.html"><img class="ico" src="./icons/analytics.png" alt=""> Аналітика</a>
            </nav>

            <div class="menu-title small">ІНШЕ</div>
            <nav class="menu">
                <a><img class="ico" src="./icons/help.png" alt="">Допомога</a>
                <a><img class="ico" src="./icons/settings.png" alt="">Налаштування</a>
                <a id="logout"><img class="ico" src="./icons/logout.png" alt="">Вихід</a>
            </nav>
        </aside>

        <main class="main clients">
            <h1 class="page-title">Клієнти</h1>

            <!-- Toolbar -->
            <div class="toolbar">
                <div class="left">
                    <div class="search">
                        <svg class="search-ico" width="18" height="18" viewBox="0 0 24 24" fill="none">
                            <path d="M21 21l-4.2-4.2M11 19a 8 8 0 1 1 0-16 8 8 0 0 1 0 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <input id="q" type="text" placeholder="Пошук: ім’я, телефон або email">
                    </div>

                    <details class="dropdown">
                        <summary class="btn btn-ghost">Фільтри</summary>
                        <div class="dropdown-menu">
                            <label>Остання активність від <input type="date"></label>
                            <label>Остання активність до <input type="date"></label>
                            <label>
                                Наявність email
                                <select>
                                    <option value="">Будь-що</option>
                                    <option>Є email</option>
                                    <option>Немає email</option>
                                </select>
                            </label>
                            <label>
                                Наявність телефону
                                <select>
                                    <option value="">Будь-що</option>
                                    <option>Є телефон</option>
                                    <option>Немає телефону</option>
                                </select>
                            </label>
                            <div class="dropdown-actions">
                                <button class="btn btn-ghost" type="button">Скинути</button>
                                <button class="btn" type="button">Застосувати</button>
                            </div>
                        </div>
                    </details>

                    <details class="dropdown">
                        <summary class="btn btn-ghost">Сортування</summary>
                        <div class="dropdown-menu narrow">
                            <label>
                                Поле
                                <select>
                                    <option>Ім’я</option>
                                    <option>Остання покупка</option>
                                    <option>К-ть замовлень</option>
                                </select>
                            </label>
                            <label>
                                Порядок
                                <select>
                                    <option>Спадання ↓</option>
                                    <option>Зростання ↑</option>
                                </select>
                            </label>
                            <div class="dropdown-actions">
                                <button class="btn btn-ghost" type="button">Скинути</button>
                                <button class="btn" type="button">Ок</button>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="right">
                    <button id="btnAdd" class="btn" type="button">Додати клієнта</button>
                </div>
            </div>

            <!-- Модал (власний шар, не <dialog>) -->
            <div id="clientModal" class="modal-layer" hidden>
                <div class="modal-card">
                    <form id="clientForm" class="card" autocomplete="off">
                        <h2 class="card-title">Новий клієнт</h2>

                        <div class="row">
                            <div class="field">
                                <label for="cfFullName">Ім’я *</label>
                                <input id="cfFullName" type="text" placeholder="Напр.: Іван Петренко" required>
                            </div>
                        </div>

                        <div class="row two">
                            <div class="field">
                                <label for="cfPhone">Телефон *</label>
                                <input id="cfPhone" type="tel" placeholder="+380..." required>
                            </div>
                            <div class="field">
                                <label for="cfEmail">Email</label>
                                <input id="cfEmail" type="email" placeholder="name@example.com">
                            </div>
                        </div>

                        <div class="actions">
                            <button type="button" class="btn btn-ghost" id="cfCancel">Скасувати</button>
                            <button type="submit" class="btn">Зберегти</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Таблиця -->
            <div class="table-wrap">
                <table class="table-clients">
                    <thead>
                        <tr>
                            <th data-sort="FullName">Ім’я</th>
                            <th data-sort="Phone">Телефон</th>
                            <th data-sort="Email">Email</th>
                            <th>Дії</th>
                        </tr>
                    </thead>
                    <tbody id="clientsTbody"></tbody>
                </table>
            </div>

            <!-- Пагінація -->
            <div id="pager" class="pager"></div>
        </main>
    </div>

    <!-- Портал для меню рядка (поверх усього UI) -->
    <div id="rowMenuPortal" class="row-menu-portal" hidden></div>

    <script defer src="./clients.js"></script>
</body>
</html>
